(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e8d61cc"],{"9c9e":function(t,a,e){"use strict";var r=e("5530"),o=(e("ac1f"),e("5319"),e("d3b7"),e("25f0"),e("1276"),e("a15b"),e("2b0e")),n=e("2f62");a["a"]={methods:Object(r["a"])(Object(r["a"])({},Object(n["d"])(["cerrarSesion"])),{},{formatNumberBySeparator:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)},swalAlertError:function(t){o["a"].swal({title:t.response.data.title,text:t.response.data.text,icon:"error"}),!t.response.data.code||"token-timed-out"!==t.response.data.code&&"no-token"!==t.response.data.code&&"invalid-user"!==t.response.data.code||this.cerrarSesion()},getDateByDateTime:function(t){var a=t.substring(0,t.indexOf("T")),e=a.split("-"),r=e.reverse();return r.join("-")},getTimeByDateTime:function(t){var a=t.substring(t.indexOf("T")+1),e=a.split(":");return e[0]+":"+e[1]},debounce:function(t,a){var e=null;return function(){clearTimeout(e);var r=arguments,o=this;e=setTimeout((function(){t.apply(o,r)}),a)}}})}},a523:function(t,a,e){"use strict";e("4de4"),e("b64b"),e("2ca0"),e("99af"),e("20f6"),e("4b85"),e("498a"),e("a15b");var r=e("2b0e");function o(t){return r["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(a,e){var r=e.props,o=e.data,n=e.children;o.staticClass="".concat(t," ").concat(o.staticClass||"").trim();var i=o.attrs;if(i){o.attrs={};var s=Object.keys(i).filter((function(t){if("slot"===t)return!1;var a=i[t];return t.startsWith("data-")?(o.attrs[t]=a,!1):a||"string"===typeof a}));s.length&&(o.staticClass+=" ".concat(s.join(" ")))}return r.id&&(o.domProps=o.domProps||{},o.domProps.id=r.id),a(r.tag,o,n)}})}var n=e("d9f7");a["a"]=o("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,a){var e,r=a.props,o=a.data,i=a.children,s=o.attrs;return s&&(o.attrs={},e=Object.keys(s).filter((function(t){if("slot"===t)return!1;var a=s[t];return t.startsWith("data-")?(o.attrs[t]=a,!1):a||"string"===typeof a}))),r.id&&(o.domProps=o.domProps||{},o.domProps.id=r.id),t(r.tag,Object(n["a"])(o,{staticClass:"container",class:Array({"container--fluid":r.fluid}).concat(e||[])}),i)}})},b76d:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-container",{staticClass:"admin-problemas__container"},[e("v-row",[e("v-col",[e("show-dialog-problema",t._b({on:{procesar:function(a){return t.procesar(a)},cerrar:function(a){return t.cerrar()}}},"show-dialog-problema",{value:t.value},!1)),e("base-material-card",{staticClass:"px-5 py-3 mb-5",attrs:{color:"success",icon:"mdi-view-carousel",inline:"",title:"Problemas"}},[e("v-row",{staticClass:"admin-problemas_row__nuevo"},[e("v-col",{staticClass:"text-right"},[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,o=a.attrs;return[e("v-btn",t._g(t._b({staticClass:"success ma-0",on:{click:function(a){return t.abrirCrear()}}},"v-btn",o,!1),r),[t._v(" Nuevo Problema ")])]}}])},[e("span",[t._v("Crea un nuevo Problema")])])],1)],1),e("v-simple-table",{staticClass:"admin-problemas__table"},[e("thead",[e("tr",[e("th",[t._v("Codigo")]),e("th",[t._v("Nombre")]),e("th",{staticStyle:{"text-align":"right"}},[t._v(" Acciones ")])])]),e("tbody",t._l(t.problemas,(function(a,r){return e("tr",{key:r},[e("td",[t._v(t._s(a.CodProblema))]),e("td",[t._v(t._s(a.NombreProblema))]),e("td",{staticClass:"text-right"},[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on,n=r.attrs;return[e("v-btn",t._g(t._b({staticClass:"warning btn-edit",attrs:{small:""},on:{click:function(e){return t.abrirEditar(a.CodProblema)}}},"v-btn",n,!1),o),[e("v-icon",[t._v("mdi-pencil")])],1)]}}],null,!0)},[e("span",[t._v("Editar")])]),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on,n=r.attrs;return[e("v-btn",t._g(t._b({staticClass:"error btn-delete",attrs:{small:""},on:{click:function(e){return t.eliminar(a.CodProblema,a.NombreProblema)}}},"v-btn",n,!1),o),[e("v-icon",[t._v(" mdi-trash-can ")])],1)]}}],null,!0)},[e("span",[t._v("Eliminar")])])],1)])})),0)])],1)],1)],1)],1)],1)},o=[],n=e("5530"),i=(e("d3b7"),e("3ca3"),e("ddb0"),e("c740"),e("a9e3"),e("a434"),e("2b0e")),s=e("2f62"),c=e("9c9e"),l={components:{ShowDialogProblema:function(){return Promise.resolve().then(e.bind(null,"ceff"))}},mixins:[c["a"]],data:function(){return{value:{active:!1,problema:{CodProblema:"",NombreProblema:"",Descripcion:"",Imagen:"",ToLink:"",MetaTitle:""},imagen:null,loader:!1},problemas:""}},computed:Object(n["a"])({},Object(s["e"])(["token"])),created:function(){this.getProblemas()},methods:Object(n["a"])(Object(n["a"])({},Object(s["d"])(["cerrarSesion"])),{},{getProblemas:function(){var t=this;i["a"].axios.post("/api/problemas").then((function(a){t.problemas=a.data.problemas})).catch((function(t){console.log(t.response)}))},getProblema:function(t){var a=this;i["a"].axios.post("/api/problemas/problema",{codProblema:t,addMetaTitle:!0}).then((function(t){a.value.problema=t.data.problema[0]})).catch((function(t){console.log(t.response)}))},abrirEditar:function(t){this.getProblema(t),this.value.active=!0},abrirCrear:function(){this.value.active=!0},cerrar:function(){this.value.active=!1,this.value.problema={},this.value.imagen=null,this.value.loader=!1},procesar:function(t){console.log("procesando..."),this.value.loader=!0;var a={"x-token":this.token},e=new FormData;e.append("CodProblema",t.problema.CodProblema),e.append("NombreProblema",t.problema.NombreProblema),e.append("Descripcion",t.problema.Descripcion),e.append("Imagen",t.imagen),e.append("ToLink",t.problema.ToLink),e.append("MetaTitle",t.problema.MetaTitle),t.problema.CodProblema?this.update(e,a):this.create(e,a)},create:function(t,a){var e=this;i["a"].axios.post("/api/problemas/crear",t,{headers:a}).then((function(t){e.problemas.unshift(t.data.Problema[0]),e.cerrar(),i["a"].swal("Problema Creado","","success")})).catch((function(t){e.cerrar(),e.swalAlertError(t)}))},update:function(t,a){var e=this;console.log("editando"),i["a"].axios.put("/api/problemas/editar",t,{headers:a}).then((function(t){var a=e.problemas.findIndex((function(a){return a.CodProblema===Number(t.data.CodProblema)}));e.problemas[a].NombreProblema=e.value.problema.NombreProblema,e.cerrar(),i["a"].swal("Problema Actualizado","","success")})).catch((function(t){e.cerrar(),e.swalAlertError(t)}))},eliminar:function(t,a){var e=this;i["a"].swal({title:"Est√°s seguro que deseas borrar ".concat(a,"?"),showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"#ff5252",cancelButtonColor:"#a1a1a1"}).then((function(a){a.isConfirmed&&(i["a"].swal("Problema Eliminado","","success"),i["a"].axios.delete("/api/problemas/".concat(t),{headers:{"x-token":e.token}}).then((function(t){var a=e.problemas.findIndex((function(a){return a.CodProblema===Number(t.data.CodProblema)}));e.problemas.splice(a,1)})).catch((function(t){e.cerrar(),e.swalAlertError(t)})))}))}})},u=l,d=e("2877"),b=e("6544"),m=e.n(b),p=e("8336"),f=e("62ad"),v=e("a523"),h=e("132d"),g=e("0fd9"),P=e("1f4f"),C=e("3a2f"),_=Object(d["a"])(u,r,o,!1,null,null,null);a["default"]=_.exports;m()(_,{VBtn:p["a"],VCol:f["a"],VContainer:v["a"],VIcon:h["a"],VRow:g["a"],VSimpleTable:P["a"],VTooltip:C["a"]})}}]);
//# sourceMappingURL=chunk-3e8d61cc.f331131a.js.map